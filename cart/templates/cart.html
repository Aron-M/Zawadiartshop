{% extends "base.html" %}

{% block content %}
  <h1>Your Shopping Cart</h1>

  <table class="table">
    <thead>
      <tr>
        <th scope="col">Product</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th scope="col">Total</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for cart_item in cart_items %}
      <tr>
        <td>
          <img src="{{ cart_item.product.image.url }}" alt="{{ cart_item.product.name }}" class="cart-img">
          {{ cart_item.product.name }}
        </td>
        <td>${{ cart_item.product.price }}</td>
        <td>
          <input type="number" class="form-control cart-quantity" data-cart-item="{{ cart_item.id }}"
            value="{{ cart_item.quantity }}" min="1">
        </td>
        <td class="cart-total">${{ cart_item.total }}</td>
        <td>
          <button class="btn btn-danger btn-remove-from-cart" data-cart-item="{{ cart_item.id }}">Remove</button>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5">Your cart is empty</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="text-end">
    <h3>Total: $<span id="cart-total-amount">{{ cart_total }}</span></h3>
    <a href="#" class="btn btn-primary">Proceed to Checkout</a>
  </div>
{% endblock %}